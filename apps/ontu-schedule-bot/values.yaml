# ONTU Schedule Bot Configuration
# Default values for the client bot service

# Application image configuration
image:
  # Docker image repository
  repository: ghcr.io/wandering-cursor/ontu-schedule-bot
  # Image tag (override with specific version)
  tag: "latest"
  pullPolicy: Always

# Number of replicas
replicaCount: 1

# Service configuration
service:
  type: ClusterIP
  port: 8080
  # Target port in the container
  targetPort: 8080

# Ingress configuration (optional - may not need external access)
ingress:
  # Enable ingress
  enabled: false
  className: "nginx"
  annotations:
    cert-manager.io/cluster-issuer: "letsencrypt-prod"
  hosts:
    - host: bot.ontu-schedule.example.com
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: ontu-schedule-bot-tls
      hosts:
        - bot.ontu-schedule.example.com

# Resource limits
resources:
  requests:
    cpu: 50m
    memory: 64Mi
  limits:
    cpu: 200m
    memory: 256Mi

# Admin backend configuration
adminBackend:
  # Service name of the admin backend
  host: "ontu-schedule-bot-admin"
  port: 8080
  # Protocol (http or https)
  protocol: "http"
  # API endpoint path
  apiPath: "/api/v1"
  # API timeout in seconds
  timeout: 30

# Bot configuration
bot:
  # Bot token (use external secret in production)
  useExternalSecret: false
  externalSecretName: "ontu-schedule-bot-token"
  tokenKey: "token"

# Environment variables
env:
  # Application environment
  APP_ENV: "production"
  # Log level
  LOG_LEVEL: "info"
  # Additional settings
  # Example:
  # POLLING_INTERVAL: "60"

# Health check configuration
healthCheck:
  # Liveness probe path
  livenessPath: /health/live
  # Readiness probe path
  readinessPath: /health/ready
  # Initial delay in seconds
  initialDelaySeconds: 20
  # Period in seconds
  periodSeconds: 10

# Autoscaling configuration (optional)
autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 5
  targetCPUUtilizationPercentage: 80

# Pod disruption budget
podDisruptionBudget:
  enabled: false
  minAvailable: 1
